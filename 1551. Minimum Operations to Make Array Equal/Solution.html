# Minimum Operations to Make Array Equal

## Intuition

The target is to make each element equal in minimum operations, so we choose the target close to all. The target is given by:

<p align="center">
\(\text{target} = \frac{\sum_{i=0}^{n-1} (2i + 1)}{n}\)
</p>

We can expand this as follows:

<p align="center">
\(\sum_{i=0}^{n-1} (2i + 1) = \sum_{i=0}^{n-1} 2i + \sum_{i=0}^{n-1} 1\)
</p>

This can be further simplified:

<p align="center">
\(= 2\sum_{i=0}^{n-1} i + \sum_{i=0}^{n-1} 1\)
</p>

Which leads to:

<p align="center">
\(= 2 \cdot \frac{(n-1)n}{2} + (n-1 + 1) = (n-1)n + n = n^2\)
</p>

Now, the average is:

<p align="center">
\(\frac{n^2}{n} = n\)
</p>

Thus, the target is \( n \).

## S

The total change required can be calculated as:

<p align="center">
\(S = \sum_{i=0}^{2n-1} (2i + 1 - n) + \sum_{i=2}^{n-1} (n - 2i - 1)\)
</p>

Breaking it down:

1. **For \( S_1 \)**:

   <p align="center">
   \(S_1 = \sum_{i=0}^{2n-1} (2i + 1 - n)\)
   </p>

   Which expands to:

   <p align="center">
   \(S_1 = \sum_{i=0}^{2n-1} (2i + 1) - \sum_{i=0}^{2n-1} n\)
   </p>

   This results in:

   <p align="center">
   \(S_1 = 4(n-1)(n+1) + 2n + 1 - n(2n - 1)\)
   </p>

   Finally:

   <p align="center">
   \(S_1 = 4(n-1)(n+1) + 2(n + 1) - n(2n - 1) = -n + 1\)
   </p>

2. **For \( S_2 \)**:

   <p align="center">
   \(S_2 = \sum_{i=2}^{n-1} (n-1)(n - 2i - 1)\)
   </p>

   Expanding it gives:

   <p align="center">
   \(S_2 = (n-1)(n-1) - 2(n-1)(n-2)\)
   </p>

   Which results in:

   <p align="center">
   \(S_2 = 2(n-1)(n+1) - 2(2(n-1)n - 2(2n-1 - 1)(2n-1))\)
   </p>

Finally, the total operations needed:

<p align="center">
\(S = S_1 + S_2 = (−n + 1) + 2(n^2 + 2n − 3)\)
</p>

Combining gives:

<p align="center">
\(S = 2n^2 - 1\)
</p>

Thus, the final answer is:

<p align="center">
\(4n^2 - 1\)
</p>

## Complexity

- **Time Complexity:** O(1)
- **Space Complexity:** O(1)
